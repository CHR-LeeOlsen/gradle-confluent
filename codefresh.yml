version: '1.0'
steps:
    build_image:
      title: Build Image
      type: build
      image_name: gradle
    
    build_plugin:
      title: Build Plugin
      image: ${{build_image}}
      cmd:
        - build
        - copyBuildResources

    test_plugin:
      title: Test Plugin
      type: composition
      composition: docker-compose.yml
      composition_candidates:
        gradle:
          image: ${{build_image}}
          cmd: runAllTests
